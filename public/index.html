<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SFlow Payment Gateway - Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <h1>ðŸŒŠ SFlow</h1>
                    <span class="subtitle">Bitcoin Payment Gateway</span>
                </div>
                <nav class="nav">
                    <button class="nav-btn active" data-section="dashboard">Dashboard</button>
                    <button class="nav-btn" data-section="payments">Payments</button>
                    <button class="nav-btn" data-section="merchants">Merchants</button>
                    <button class="nav-btn" data-section="settings">Settings</button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <h2>Dashboard Overview</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Volume</h3>
                        <p class="stat-value" id="total-volume">â‚¿ 0.00</p>
                        <span class="stat-change">+0% from last month</span>
                    </div>
                    
                    <div class="stat-card">
                        <h3>Active Payments</h3>
                        <p class="stat-value" id="active-payments">0</p>
                        <span class="stat-change">0 pending</span>
                    </div>
                    
                    <div class="stat-card">
                        <h3>Yield Earned</h3>
                        <p class="stat-value" id="yield-earned">â‚¿ 0.00</p>
                        <span class="stat-change">5.0% APY</span>
                    </div>
                    
                    <div class="stat-card">
                        <h3>Success Rate</h3>
                        <p class="stat-value" id="success-rate">0%</p>
                        <span class="stat-change">Last 30 days</span>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="chart-container">
                        <h3>Payment Volume</h3>
                        <div class="chart-placeholder">
                            <p>Chart visualization would go here</p>
                        </div>
                    </div>
                    
                    <div class="recent-activity">
                        <h3>Recent Activity</h3>
                        <div id="recent-activity-list" class="activity-list">
                            <p class="no-data">No recent activity</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Payments Section -->
            <section id="payments" class="section">
                <div class="section-header">
                    <h2>Payment Management</h2>
                    <button class="btn-primary" id="create-payment-btn">Create Payment</button>
                </div>

                <!-- Create Payment Form -->
                <div id="create-payment-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Create Payment Intent</h3>
                            <button class="close-btn" id="close-payment-modal">&times;</button>
                        </div>
                        <form id="create-payment-form">
                            <div class="form-group">
                                <label for="payment-merchant">Merchant Address:</label>
                                <input type="text" id="payment-merchant" required 
                                       placeholder="ST1MERCHANT...">
                            </div>
                            
                            <div class="form-group">
                                <label for="payment-amount">Amount:</label>
                                <input type="number" id="payment-amount" required min="1000">
                            </div>
                            
                            <div class="form-group">
                                <label for="payment-currency">Currency:</label>
                                <input type="text" id="payment-currency" required 
                                       placeholder="ST1CURRENCY...">
                            </div>
                            
                            <div class="form-group">
                                <label for="payment-method">Payment Method:</label>
                                <select id="payment-method" required>
                                    <option value="1">sBTC</option>
                                    <option value="2">Lightning Network</option>
                                    <option value="3">Bitcoin L1</option>
                                    <option value="4">Liquid Network</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="payment-expires">Expires in blocks:</label>
                                <input type="number" id="payment-expires" value="144" min="1" max="1008">
                            </div>
                            
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" id="cancel-payment">Cancel</button>
                                <button type="submit" class="btn-primary">Create Payment</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Payments List -->
                <div class="table-container">
                    <table class="data-table" id="payments-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Amount</th>
                                <th>Method</th>
                                <th>Status</th>
                                <th>Created</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="payments-tbody">
                            <tr class="no-data-row">
                                <td colspan="6">No payments found</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Merchants Section -->
            <section id="merchants" class="section">
                <div class="section-header">
                    <h2>Merchant Management</h2>
                    <button class="btn-primary" id="register-merchant-btn">Register Merchant</button>
                </div>

                <!-- Merchant Registration Form -->
                <div id="register-merchant-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Register Merchant</h3>
                            <button class="close-btn" id="close-merchant-modal">&times;</button>
                        </div>
                        <form id="register-merchant-form">
                            <div class="form-group">
                                <label for="fee-destination">Fee Destination:</label>
                                <input type="text" id="fee-destination" required 
                                       placeholder="ST1DESTINATION...">
                            </div>
                            
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="yield-enabled">
                                    Enable Yield Generation
                                </label>
                            </div>
                            
                            <div class="form-group" id="yield-percentage-group">
                                <label for="yield-percentage">Yield Allocation (%):</label>
                                <input type="number" id="yield-percentage" min="0" max="100" value="10">
                            </div>
                            
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="multi-sig-enabled">
                                    Enable Multi-Signature
                                </label>
                            </div>
                            
                            <div class="form-group" id="required-signatures-group">
                                <label for="required-signatures">Required Signatures:</label>
                                <input type="number" id="required-signatures" min="1" max="5" value="2">
                            </div>
                            
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" id="cancel-merchant">Cancel</button>
                                <button type="submit" class="btn-primary">Register Merchant</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="merchant-info">
                    <h3>Current Merchant Status</h3>
                    <div id="merchant-status" class="status-card">
                        <p>Loading merchant information...</p>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="section">
                <h2>API Settings</h2>
                
                <div class="settings-grid">
                    <div class="setting-card">
                        <h3>API Configuration</h3>
                        <div class="form-group">
                            <label for="api-key">API Key:</label>
                            <div class="input-with-btn">
                                <input type="password" id="api-key" placeholder="sk_test_...">
                                <button class="btn-secondary" id="toggle-api-key">Show</button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="webhook-url">Webhook URL:</label>
                            <input type="url" id="webhook-url" placeholder="https://your-app.com/webhooks">
                        </div>
                        
                        <button class="btn-primary" id="save-settings">Save Settings</button>
                    </div>
                    
                    <div class="setting-card">
                        <h3>Network Settings</h3>
                        <div class="form-group">
                            <label for="network">Network:</label>
                            <select id="network">
                                <option value="testnet">Testnet</option>
                                <option value="mainnet">Mainnet</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="contract-address">Contract Address:</label>
                            <input type="text" id="contract-address" 
                                   placeholder="ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM">
                        </div>
                    </div>
                </div>

                <div class="api-docs">
                    <h3>API Documentation</h3>
                    <div class="docs-content">
                        <h4>Base URL</h4>
                        <code>https://localhost:3000/api/v1</code>
                        
                        <h4>Authentication</h4>
                        <p>Include your API key in the Authorization header:</p>
                        <code>Authorization: Bearer sk_test_your_api_key</code>
                        
                        <h4>Endpoints</h4>
                        <ul>
                            <li><strong>POST /payments/intents</strong> - Create payment intent</li>
                            <li><strong>GET /payments/intents/:id</strong> - Get payment details</li>
                            <li><strong>POST /payments/intents/:id/process</strong> - Process payment</li>
                            <li><strong>POST /merchants/register</strong> - Register merchant</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Loading Spinner -->
    <div id="loading-spinner" class="loading-spinner">
        <div class="spinner"></div>
    </div>

    <!-- Notification System -->
    <div id="notification-container" class="notification-container"></div>

    <script src="js/app.js"></script>
</body>
</html>